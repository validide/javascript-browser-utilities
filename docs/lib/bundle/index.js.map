{"version":3,"file":"index.js","sources":["../../../dist/js/contracts/baseComponent.js","../../../dist/js/dom/document/getUrlOrigin.js","../../../dist/js/dom/document/getUrlFullPath.js","../../../dist/js/infrastructure/getHashCode.js","../../../dist/js/infrastructure/getRandomString.js","../../../dist/js/dom/document/generateIds.js","../../../dist/js/dom/form/appendDataToForm.js","../../../dist/js/dom/iframe/iframeHttpRequest.js","../../../dist/js/dom/iframe/iframeLoader.js"],"sourcesContent":["var BaseComponent = /** @class */ (function () {\r\n    function BaseComponent(window) {\r\n        if (!window)\r\n            throw new Error('Missing \"window\" reference.');\r\n        this.window = window;\r\n    }\r\n    BaseComponent.prototype.getWindow = function () { return this.window; };\r\n    BaseComponent.prototype.getDocument = function () { return this.getWindow().document; };\r\n    BaseComponent.prototype.dispose = function () {\r\n        this.window = null;\r\n    };\r\n    return BaseComponent;\r\n}());\r\nexport { BaseComponent };\r\n//# sourceMappingURL=baseComponent.js.map","/**\r\n * Return the origin of an url\r\n *\r\n * @param document The reference to the document object\r\n * @param url The ´url´ for which to get the 'origin'\r\n * @returns A string representing the url origin\r\n */\r\n// eslint-disable-next-line prefer-arrow/prefer-arrow-functions\r\nfunction getUrlOrigin(document, url) {\r\n    if (!url)\r\n        return '';\r\n    var a = document.createElement('a');\r\n    a.setAttribute('href', url);\r\n    return a.protocol + '//' + a.hostname + (a.port && ':' + a.port);\r\n}\r\nexport { getUrlOrigin };\r\n//# sourceMappingURL=getUrlOrigin.js.map","/**\r\n * Return the full path of an url (the origin and path name)\r\n *\r\n * @param document The reference to the document object\r\n * @param url The ´url´ for which to get the full path\r\n * @returns A string representing the url full path\r\n */\r\n// eslint-disable-next-line prefer-arrow/prefer-arrow-functions\r\nfunction getUrlFullPath(document, url) {\r\n    if (!url)\r\n        return '';\r\n    var a = document.createElement('a');\r\n    a.setAttribute('href', url);\r\n    return a.protocol + '//' + a.hostname + (a.port && ':' + a.port) + a.pathname;\r\n}\r\nexport { getUrlFullPath };\r\n//# sourceMappingURL=getUrlFullPath.js.map","/* eslint-disable no-bitwise */\r\n/**\r\n * Get a hash code for the given string\r\n *\r\n * @returns The hash code\r\n */\r\n// eslint-disable-next-line prefer-arrow/prefer-arrow-functions\r\nfunction getHashCode(value) {\r\n    var hash = 0;\r\n    var length = value.length;\r\n    var char;\r\n    var index = 0;\r\n    if (length === 0)\r\n        return hash;\r\n    while (index < length) {\r\n        char = value.charCodeAt(index);\r\n        hash = ((hash << 5) - hash) + char;\r\n        hash |= 0; // Convert to 32bit integer\r\n        index++;\r\n    }\r\n    return hash;\r\n}\r\nexport { getHashCode };\r\n//# sourceMappingURL=getHashCode.js.map","/**\r\n * Generate a random string\r\n *\r\n * @returns A random generated string\r\n */\r\n// eslint-disable-next-line prefer-arrow/prefer-arrow-functions\r\nfunction getRandomString() { return Math.random().toString(36).substring(2); }\r\nexport { getRandomString };\r\n//# sourceMappingURL=getRandomString.js.map","import { getRandomString } from '../../infrastructure/index';\r\n/**\r\n * Generate a random id that is not present in the document at this time\r\n *\r\n * @param document The reference to the document object\r\n * @returns A random generated string\r\n */\r\n// eslint-disable-next-line prefer-arrow/prefer-arrow-functions\r\nfunction generateUniqueId(document, prefix) {\r\n    if (prefix === void 0) { prefix = ''; }\r\n    var prefixString = (prefix !== null && prefix !== void 0 ? prefix : '');\r\n    // eslint-disable-next-line no-constant-condition\r\n    while (true) {\r\n        // The 'A-' will ensure this is always a valid JavaScript ID\r\n        var id = prefixString + 'A-' + getRandomString() + getRandomString();\r\n        if (document.getElementById(id) === null) {\r\n            return id;\r\n        }\r\n    }\r\n}\r\nexport { generateUniqueId };\r\n//# sourceMappingURL=generateIds.js.map","/* eslint-disable @typescript-eslint/no-unsafe-member-access */\r\n// eslint-disable-next-line prefer-arrow/prefer-arrow-functions\r\nfunction appendInput(ownerDocument, form, name, value) {\r\n    var input = ownerDocument.createElement('input');\r\n    input.name = name;\r\n    input.value = value;\r\n    input.type = 'hidden';\r\n    form.appendChild(input);\r\n}\r\n// eslint-disable-next-line prefer-arrow/prefer-arrow-functions\r\nfunction appendData(ownerDocument, form, data, parentProp) {\r\n    if (typeof data === 'object' && data != null) {\r\n        if (data instanceof Date) {\r\n            appendInput(ownerDocument, form, parentProp, data.toISOString());\r\n        }\r\n        else {\r\n            Object.keys(data).forEach(function (prop) {\r\n                appendData(ownerDocument, form, data[prop], parentProp ? \"\".concat(parentProp, \"[\").concat(prop, \"]\") : prop);\r\n            });\r\n        }\r\n    }\r\n    else {\r\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-argument\r\n        appendInput(ownerDocument, form, parentProp, data === null || data === undefined ? '' : data.toString());\r\n    }\r\n}\r\n/**\r\n * Append an object to a form as 'input'(HTMLInputElement) elements\r\n *\r\n * @param data The information to append to the the ´form´\r\n * @param form The form (HTMLFormElement) element to elements to\r\n * @throws {Error} if the ´form´ does not have an 'ownerDocument'\r\n */\r\n// eslint-disable-next-line prefer-arrow/prefer-arrow-functions\r\nfunction appendDataToForm(data, form) {\r\n    if (!data)\r\n        return;\r\n    if (!form.ownerDocument)\r\n        throw new Error('The \"ownerDocument\" of the \"form\" shold be the a reference to the parent window!');\r\n    appendData(form.ownerDocument, form, data, '');\r\n}\r\nexport { appendDataToForm };\r\n//# sourceMappingURL=appendDataToForm.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { generateUniqueId } from '../document/generateIds';\r\nimport { appendDataToForm } from '../form/appendDataToForm';\r\nimport { getUrlFullPath } from '../document/getUrlFullPath';\r\nimport { BaseComponent } from '../../contracts/index';\r\n/**\r\n * Make a HTTP request using an iframe\r\n */\r\nvar IframeHttpRequest = /** @class */ (function (_super) {\r\n    __extends(IframeHttpRequest, _super);\r\n    /**\r\n     * Object constructor\r\n     *\r\n     * @param window A reference to the window object\r\n     * @param url The url to make the request to\r\n     * @param data The data to send. Default NULL\r\n     * @param method The HTTP method. GET(default) or POST\r\n     * @param options The request options IframeHttpRequestOptions. Default null and will use the IframeHttpRequest.DEFAULT_OPTIONS\r\n     */\r\n    function IframeHttpRequest(window, url, data, method, options) {\r\n        if (data === void 0) { data = null; }\r\n        if (method === void 0) { method = 'GET'; }\r\n        if (options === void 0) { options = null; }\r\n        var _this = _super.call(this, window) || this;\r\n        _this.data = null;\r\n        _this.method = 'GET';\r\n        _this.validateInput(url, method);\r\n        _this.url = url; // might consider defaulting to 'about:blank' as empty url is not allowed for src on iFrames and this is where this will end-up\r\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n        _this.data = data;\r\n        _this.method = method;\r\n        _this.options = (Object.assign({}, IframeHttpRequest.DEFAULT_OPTIONS, options));\r\n        _this.resolvePromise = null;\r\n        _this.rejectPromise = null;\r\n        _this.loadHandlerRef = function (e) { return _this.loadHandler(e); };\r\n        _this.wrapperId = generateUniqueId(_this.getDocument(), 'IframeHttpRequest_wrapper_');\r\n        _this.timeoutRef = 0;\r\n        _this.redirectTimeoutRef = 0;\r\n        _this.called = false;\r\n        _this.disposed = false;\r\n        return _this;\r\n    }\r\n    IframeHttpRequest.prototype.sendAsync = function () {\r\n        if (this.called)\r\n            throw new Error('The \"send\" method was already called!');\r\n        this.called = true;\r\n        this.init();\r\n        return this.sendAsyncCore();\r\n    };\r\n    IframeHttpRequest.prototype.dispose = function () {\r\n        if (this.disposed)\r\n            return;\r\n        this.disposed = true;\r\n        var win = this.getWindow();\r\n        win.clearTimeout(this.timeoutRef);\r\n        this.timeoutRef = 0;\r\n        win.clearTimeout(this.redirectTimeoutRef);\r\n        this.redirectTimeoutRef = 0;\r\n        var wrapper = this.getDocument().getElementById(this.wrapperId);\r\n        if (wrapper) {\r\n            wrapper.querySelector('iframe').removeEventListener('load', this.loadHandlerRef, false);\r\n            wrapper.parentElement.removeChild(wrapper);\r\n        }\r\n        this.loadHandlerRef = null;\r\n        this.resolvePromise = null;\r\n        this.rejectPromise = null;\r\n        this.url = '';\r\n        this.method = '';\r\n        this.wrapperId = '';\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    IframeHttpRequest.prototype.validateInput = function (url, method) {\r\n        if (!url)\r\n            throw new Error('Missing \"url\" reference.');\r\n        switch (method.toUpperCase()) {\r\n            case 'GET':\r\n            case 'POST':\r\n                break;\r\n            default:\r\n                throw new Error(\"Method not supported \\\"\".concat(method, \"\\\"\"));\r\n        }\r\n    };\r\n    IframeHttpRequest.prototype.init = function () {\r\n        var iframeId = this.wrapperId + '_iframe';\r\n        var fragment = this.getDocument().createDocumentFragment();\r\n        var wrapper = this.getDocument().createElement('div');\r\n        wrapper.id = this.wrapperId;\r\n        wrapper.style.display = 'none';\r\n        wrapper.innerHTML = \"<form target=\\\"\".concat(iframeId, \"\\\"></form><iframe id=\\\"\").concat(iframeId, \"\\\" name=\\\"\").concat(iframeId, \"\\\" width=\\\"0\\\" height=\\\"0\\\" src=\\\"about:blank\\\"></iframe>\");\r\n        var form = wrapper.querySelector('form');\r\n        form.action = this.url;\r\n        form.method = this.method;\r\n        form.target = iframeId;\r\n        if (this.data !== null) {\r\n            appendDataToForm(this.data, form);\r\n        }\r\n        fragment.appendChild(wrapper);\r\n        this.getDocument().body.appendChild(fragment);\r\n        var iframe = wrapper.querySelector('iframe');\r\n        iframe.addEventListener('load', this.loadHandlerRef, false);\r\n    };\r\n    IframeHttpRequest.prototype.sendAsyncCore = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.resolvePromise = resolve;\r\n            _this.rejectPromise = reject;\r\n            var wrapper = _this.getDocument().getElementById(_this.wrapperId);\r\n            try {\r\n                wrapper.querySelector('form').submit();\r\n                _this.timeoutRef = _this.getWindow().setTimeout(function () {\r\n                    _this.reject(new Error('TIMEOUT'));\r\n                }, _this.options.timeout);\r\n            }\r\n            catch (error) {\r\n                _this.reject(error);\r\n            }\r\n        });\r\n    };\r\n    IframeHttpRequest.prototype.loadHandler = function (event) {\r\n        this.getWindow().clearTimeout(this.redirectTimeoutRef);\r\n        var allowRedirects = this.options.redirectTimeout > 0;\r\n        try {\r\n            var contentWindow = event.target.contentWindow;\r\n            // this should throw if iframe is not accessible due to 'X-Frame-Options'\r\n            var targetPath = getUrlFullPath(contentWindow.document, contentWindow.location.href).toLowerCase();\r\n            var desiredPath = getUrlFullPath(contentWindow.document, this.url).toLowerCase();\r\n            var result = {\r\n                data: contentWindow.document.body.textContent,\r\n                error: null\r\n            };\r\n            if ((targetPath === desiredPath)) {\r\n                this.resolve(result);\r\n            }\r\n            else {\r\n                if (allowRedirects) {\r\n                    this.schedulePromiseResolve(result);\r\n                }\r\n                else {\r\n                    this.resolve(result);\r\n                }\r\n            }\r\n        }\r\n        catch (error) {\r\n            if (allowRedirects) {\r\n                this.schedulePromiseResolve({\r\n                    data: '',\r\n                    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n                    error: error\r\n                });\r\n            }\r\n            else {\r\n                this.reject(error);\r\n            }\r\n        }\r\n    };\r\n    IframeHttpRequest.prototype.schedulePromiseResolve = function (result) {\r\n        var _this = this;\r\n        var win = this.getWindow();\r\n        win.clearTimeout(this.redirectTimeoutRef);\r\n        this.redirectTimeoutRef = win.setTimeout(function () { _this.resolve(result); }, this.options.redirectTimeout);\r\n    };\r\n    IframeHttpRequest.prototype.resolve = function (value) {\r\n        this.resolvePromise(value);\r\n        this.dispose();\r\n    };\r\n    IframeHttpRequest.prototype.reject = function (error) {\r\n        this.rejectPromise({ data: '', error: error });\r\n        this.dispose();\r\n    };\r\n    /**\r\n     * Default options IframeHttpRequestOptions\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    IframeHttpRequest.DEFAULT_OPTIONS = {\r\n        timeout: 30 * 1000,\r\n        redirectTimeout: 3 * 1000\r\n    };\r\n    return IframeHttpRequest;\r\n}(BaseComponent));\r\nexport { IframeHttpRequest };\r\n//# sourceMappingURL=iframeHttpRequest.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { BaseComponent } from '../../contracts/index';\r\nimport { generateUniqueId, getUrlOrigin } from '../document/index';\r\nimport { getHashCode } from '../../infrastructure/index';\r\n/* eslint-disable @typescript-eslint/naming-convention */\r\nexport var IframeMessageState;\r\n(function (IframeMessageState) {\r\n    IframeMessageState[IframeMessageState[\"Mounted\"] = 0] = \"Mounted\";\r\n    IframeMessageState[IframeMessageState[\"BeforeUpdate\"] = 1] = \"BeforeUpdate\";\r\n    IframeMessageState[IframeMessageState[\"Updated\"] = 2] = \"Updated\";\r\n    IframeMessageState[IframeMessageState[\"Destroyed\"] = 3] = \"Destroyed\";\r\n})(IframeMessageState || (IframeMessageState = {}));\r\n/**\r\n * IframeLoader event types.\r\n * The type of IframeLoaderEvent\r\n */\r\n/* eslint-disable @typescript-eslint/naming-convention */\r\nexport var IframeLoaderEventType;\r\n(function (IframeLoaderEventType) {\r\n    IframeLoaderEventType[\"BeforeCreate\"] = \"beforeCreate\";\r\n    IframeLoaderEventType[\"Created\"] = \"created\";\r\n    IframeLoaderEventType[\"BeforeMount\"] = \"beforeMount\";\r\n    IframeLoaderEventType[\"Mounted\"] = \"mounted\";\r\n    IframeLoaderEventType[\"BeforeUpdate\"] = \"beforeUpdate\";\r\n    IframeLoaderEventType[\"Updated\"] = \"updated\";\r\n    IframeLoaderEventType[\"BeforeDestroy\"] = \"beforeDestroy\";\r\n    IframeLoaderEventType[\"Destroyed\"] = \"destroyed\";\r\n})(IframeLoaderEventType || (IframeLoaderEventType = {}));\r\n/**\r\n * Iframe loader\r\n * Load remote content inside an IFRAME.\r\n */\r\nvar IframeLoader = /** @class */ (function (_super) {\r\n    __extends(IframeLoader, _super);\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param window Reference to the window object.\r\n     * @param options Loader options.\r\n     */\r\n    function IframeLoader(window, options) {\r\n        var _this = _super.call(this, window) || this;\r\n        if (!(options === null || options === void 0 ? void 0 : options.url))\r\n            throw new Error('The \"options.url\" value should be a non-empty string.');\r\n        _this.options = options;\r\n        _this.rootElement = null;\r\n        _this.iframeId = '';\r\n        _this.disposed = false;\r\n        _this.onMessageReceived = _this.windowMessageHandler.bind(_this);\r\n        window.addEventListener('message', _this.onMessageReceived);\r\n        _this.onIframeLoaded = _this.iframeLoadedHandler.bind(_this);\r\n        _this.iframeLoaded = false;\r\n        _this.init();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Dispose the loader\r\n     */\r\n    IframeLoader.prototype.dispose = function () {\r\n        if (this.disposed)\r\n            return;\r\n        this.disposed = true;\r\n        this.triggerEvent(IframeLoaderEventType.BeforeDestroy);\r\n        if (this.onIframeLoaded) {\r\n            this.getIframe().removeEventListener('load', this.onIframeLoaded);\r\n        }\r\n        this.iframeLoaded = false;\r\n        this.rootElement.parentElement.removeChild(this.rootElement);\r\n        this.rootElement = null;\r\n        this.getWindow().removeEventListener('message', this.onMessageReceived);\r\n        this.onMessageReceived = null;\r\n        this.triggerEvent(IframeLoaderEventType.Destroyed);\r\n        this.options = null;\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    IframeLoader.prototype.init = function () {\r\n        this.triggerEvent(IframeLoaderEventType.BeforeCreate);\r\n        this.createRootElement();\r\n        this.createIframe();\r\n        this.triggerEvent(IframeLoaderEventType.Created);\r\n    };\r\n    IframeLoader.prototype.createIframe = function () {\r\n        if (this.getIframe())\r\n            return;\r\n        var iframe = this.getDocument().createElement('iframe');\r\n        var opt = this.getOptions();\r\n        if (opt.iframeAttributes) {\r\n            var keys = Object.keys(opt.iframeAttributes);\r\n            // eslint-disable-next-line @typescript-eslint/prefer-for-of\r\n            for (var index = 0; index < keys.length; index++) {\r\n                var key = keys[index];\r\n                iframe.setAttribute(key, opt.iframeAttributes[key]);\r\n            }\r\n        }\r\n        iframe.addEventListener('load', this.onIframeLoaded);\r\n        iframe.setAttribute('src', opt.url);\r\n        this.iframeId = generateUniqueId(this.getDocument(), 'ildr-');\r\n        this.rootElement.appendChild(iframe);\r\n    };\r\n    IframeLoader.prototype.createRootElement = function () {\r\n        if (this.rootElement)\r\n            return;\r\n        var parent = this.getParentElement();\r\n        this.rootElement = this.getDocument().createElement('div');\r\n        parent.appendChild(this.rootElement);\r\n    };\r\n    IframeLoader.prototype.getParentElement = function () {\r\n        var parent = null;\r\n        var opt = this.getOptions();\r\n        if (opt.parent) {\r\n            if (typeof opt.parent === 'string') {\r\n                parent = this.getDocument().querySelector(opt.parent);\r\n            }\r\n            else {\r\n                parent = opt.parent;\r\n            }\r\n        }\r\n        if (!parent)\r\n            // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\r\n            throw new Error(\"Failed to find parent \\\"\".concat(opt.parent, \"\\\".\"));\r\n        return parent;\r\n    };\r\n    IframeLoader.prototype.triggerEvent = function (eventType) {\r\n        var opt = this.getOptions();\r\n        var handler = opt.events\r\n            ? opt.events[eventType]\r\n            : undefined;\r\n        if (handler) {\r\n            try {\r\n                handler({\r\n                    type: eventType,\r\n                    el: this.rootElement,\r\n                    parentEl: this.getParentElement(),\r\n                    id: this.iframeId\r\n                });\r\n            }\r\n            catch (error) {\r\n                if (console && typeof console.error === 'function') {\r\n                    console.error(\"Calling the \\\"\".concat(eventType, \"\\\" handler failed.\"), error);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    IframeLoader.prototype.getIframe = function () {\r\n        return this.rootElement.querySelector('iframe');\r\n    };\r\n    IframeLoader.prototype.iframeLoadedHandler = function () {\r\n        if (!this.iframeLoaded) {\r\n            this.triggerEvent(IframeLoaderEventType.BeforeMount);\r\n        }\r\n        this.iframeLoaded = true;\r\n    };\r\n    IframeLoader.prototype.windowMessageHandler = function (event) {\r\n        if (event.origin !== this.getIframeOrigin())\r\n            return;\r\n        var messageData = event.data\r\n            ? event.data\r\n            : null;\r\n        if (!messageData) {\r\n            return;\r\n        }\r\n        if (this.shouldShakeHands(messageData)) {\r\n            this.shakeHands(messageData);\r\n            return;\r\n        }\r\n        if (!messageData.id || messageData.id !== this.iframeId)\r\n            return;\r\n        switch (messageData.state) {\r\n            case IframeMessageState.Mounted:\r\n                this.triggerEvent(IframeLoaderEventType.Mounted);\r\n                break;\r\n            case IframeMessageState.BeforeUpdate:\r\n                this.triggerEvent(IframeLoaderEventType.BeforeUpdate);\r\n                break;\r\n            case IframeMessageState.Updated:\r\n                this.triggerEvent(IframeLoaderEventType.Updated);\r\n                break;\r\n            case IframeMessageState.Destroyed:\r\n                this.dispose();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n    IframeLoader.prototype.getIframeOrigin = function () {\r\n        return getUrlOrigin(this.getDocument(), this.getOptions().url);\r\n    };\r\n    IframeLoader.prototype.getOptions = function () {\r\n        return this.options;\r\n    };\r\n    IframeLoader.prototype.shouldShakeHands = function (message) {\r\n        // Handshake did not take place\r\n        if (!message.id && message.state === IframeMessageState.Mounted)\r\n            return true;\r\n        return false;\r\n    };\r\n    IframeLoader.prototype.shakeHands = function (requestMessage) {\r\n        var hash = getHashCode(this.iframeId).toString(10);\r\n        var responseMessage = {\r\n            id: '',\r\n            state: IframeMessageState.Mounted\r\n        };\r\n        // We got a message back so if the data matches the hash we sent send the id\r\n        if (requestMessage.data && requestMessage.data === hash) {\r\n            responseMessage.id = this.iframeId;\r\n        }\r\n        else {\r\n            responseMessage.data = hash;\r\n        }\r\n        this.getIframe().contentWindow.postMessage(responseMessage, this.getIframeOrigin());\r\n    };\r\n    return IframeLoader;\r\n}(BaseComponent));\r\nexport { IframeLoader };\r\n/**\r\n * Content loaded by IframeLoader\r\n */\r\nvar IframeContent = /** @class */ (function (_super) {\r\n    __extends(IframeContent, _super);\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param window Reference to the window object\r\n     * @param parentOrigin The origin that loaded the content\r\n     */\r\n    function IframeContent(window, parentOrigin) {\r\n        var _this = _super.call(this, window) || this;\r\n        if (typeof parentOrigin !== 'string' || parentOrigin.length === 0)\r\n            throw new Error('Parent origin(\"parentOrigin\") should be a non-empty string.');\r\n        _this.standalone = window === window.parent;\r\n        _this.parentOrigin = parentOrigin;\r\n        _this.iframeId = '';\r\n        _this.messageQueue = new Array();\r\n        _this.disposed = false;\r\n        if (_this.standalone) {\r\n            _this.onMessageReceived = null;\r\n        }\r\n        else {\r\n            _this.onMessageReceived = _this.windowMessageHandler.bind(_this);\r\n            window.addEventListener('message', _this.onMessageReceived);\r\n        }\r\n        _this.init();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Signal busy state\r\n     *\r\n     * @param busy Is the component busy?\r\n     */\r\n    IframeContent.prototype.signalBusyState = function (busy) {\r\n        this.sendMessage({\r\n            id: this.iframeId,\r\n            state: busy\r\n                ? IframeMessageState.BeforeUpdate\r\n                : IframeMessageState.Updated\r\n        });\r\n    };\r\n    /**\r\n     * Dispose the component\r\n     */\r\n    IframeContent.prototype.dispose = function () {\r\n        if (this.disposed)\r\n            return;\r\n        this.disposed = true;\r\n        this.signalBusyState(true);\r\n        if (this.onMessageReceived) {\r\n            this.getWindow().removeEventListener('message', this.onMessageReceived);\r\n            this.onMessageReceived = null;\r\n        }\r\n        this.sendMessage({ id: '', state: IframeMessageState.Destroyed });\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    IframeContent.prototype.init = function () {\r\n        // Bypass the queue and initiate the handshake.\r\n        this.sendMessage({ id: this.iframeId, state: IframeMessageState.Mounted }, true);\r\n    };\r\n    IframeContent.prototype.windowMessageHandler = function (event) {\r\n        if (event.origin !== this.parentOrigin)\r\n            return;\r\n        var messageData = event.data\r\n            ? event.data\r\n            : null;\r\n        if (!messageData) {\r\n            return;\r\n        }\r\n        // In case we do not have the iframeId it means handshake did not happen.\r\n        if (!this.iframeId) {\r\n            this.handShake(messageData);\r\n        }\r\n    };\r\n    IframeContent.prototype.handShake = function (messageData) {\r\n        if (messageData.id) {\r\n            // Phase 2 of the handshake - we got the id.\r\n            this.iframeId = messageData.id;\r\n            // Send it again to notify parent.\r\n            this.sendMessage({ id: this.iframeId, state: IframeMessageState.Mounted });\r\n            // Send the previously queued messages.\r\n            this.flushMessages();\r\n        }\r\n        else {\r\n            // Phase 1 of the handshake - we got the hash so send it back.\r\n            this.sendMessage({ id: this.iframeId, state: IframeMessageState.Mounted, data: messageData.data }, true);\r\n        }\r\n    };\r\n    IframeContent.prototype.sendMessage = function (message, bypassQueue) {\r\n        if (bypassQueue === void 0) { bypassQueue = false; }\r\n        if (this.standalone)\r\n            return;\r\n        if (this.iframeId && !message.id) {\r\n            // Override the message id in case we have iframeId\r\n            message.id = this.iframeId;\r\n        }\r\n        if (bypassQueue || message.id) {\r\n            this.getWindow().parent.postMessage(message, this.parentOrigin);\r\n        }\r\n        else {\r\n            this.messageQueue.push(message);\r\n        }\r\n    };\r\n    IframeContent.prototype.flushMessages = function () {\r\n        var win = this.getWindow();\r\n        // eslint-disable-next-line @typescript-eslint/prefer-for-of\r\n        for (var index = 0; index < this.messageQueue.length; index++) {\r\n            var msg = this.messageQueue[index];\r\n            msg.id = this.iframeId;\r\n            win.parent.postMessage(msg, this.parentOrigin);\r\n        }\r\n    };\r\n    return IframeContent;\r\n}(BaseComponent));\r\nexport { IframeContent };\r\n//# sourceMappingURL=iframeLoader.js.map"],"names":["__extends","this","IframeMessageState","IframeLoaderEventType"],"mappings":"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"}